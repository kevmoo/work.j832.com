---
layout: post
title: Xaml Serialization with WCF
date: '2008-02-05T00:06:00.001-08:00'
author: Kevin Moore
tags:
- WPF
- ".NET"
- REST
- xaml
- web services
- C#
- wcf
modified_time: '2008-02-05T00:37:12.034-08:00'
blogger_id: tag:blogger.com,1999:blog-2115056243892631308.post-2867148949537696822
blogger_orig_url: http://work.j832.com/2008/02/xaml-serialization-with-wcf.html
---

<p>So I'm reading <a href="http://www.amazon.com/gp/product/0596529260?ie=UTF8&amp;tag=j832com&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=0596529260">RESTful Web Services</a> and I got inspired. Sounds like a great way to expose data on the web.</p>  <p>I've heard great things about WCF support for <a href="http://en.wikipedia.org/wiki/REST">REST</a>, with their new <a href="http://msdn2.microsoft.com/en-us/library/system.servicemodel.web.webgetattribute.aspx">WebGet attribute</a> and such.</p>  <p>So I fire up <a href="http://www.microsoft.com/express/vcsharp/">Visual C# Express</a> and get hacking.</p>  <p>Amazing what one can do in 54 lines of code.</p>  <div style="font-family: monospace">   <div><span style="color: #0000ff">using</span> System;</div>    <div><span style="color: #0000ff">using</span> System.ServiceModel;</div>    <div><span style="color: #0000ff">using</span> System.ServiceModel.Web;</div>    <div>&#160;</div>    <div><span style="color: #0000ff">namespace</span> J832</div>    <div>{</div>    <div style="margin-left: 8ex; text-indent: -4ex"><span style="color: #0000ff">class</span> <span style="color: #2b91af">Program</span></div>    <div style="margin-left: 8ex; text-indent: -4ex">{</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">static</span> <span style="color: #0000ff">void</span> Main(<span style="color: #0000ff">string</span>[] args)</div>    <div style="margin-left: 12ex; text-indent: -4ex">{</div>    <div style="margin-left: 16ex; text-indent: -4ex"><span style="color: #2b91af">Time</span> time = <span style="color: #0000ff">new</span> <span style="color: #2b91af">Time</span>();</div>    <div>&#160;</div>    <div style="margin-left: 16ex; text-indent: -4ex"><span style="color: #0000ff">using</span> (<span style="color: #2b91af">WebServiceHost</span> host = <span style="color: #0000ff">new</span> <span style="color: #2b91af">WebServiceHost</span>(time, <span style="color: #0000ff">new</span> <span style="color: #2b91af">Uri</span>(<span style="color: #a31515">&quot;http://localhost:8080/&quot;</span>)))</div>    <div style="margin-left: 16ex; text-indent: -4ex">{</div>    <div style="margin-left: 20ex; text-indent: -4ex">host.AddServiceEndpoint(<span style="color: #0000ff">typeof</span>(<span style="color: #2b91af">ITime</span>), <span style="color: #0000ff">new</span> <span style="color: #2b91af">WebHttpBinding</span>(), <span style="color: #a31515">&quot;time&quot;</span>);</div>    <div style="margin-left: 20ex; text-indent: -4ex">host.Open();</div>    <div>&#160;</div>    <div style="margin-left: 20ex; text-indent: -4ex"><span style="color: #2b91af">Console</span>.WriteLine(<span style="color: #a31515">&quot;enter to close...&quot;</span>);</div>    <div style="margin-left: 20ex; text-indent: -4ex"><span style="color: #2b91af">Console</span>.ReadLine();</div>    <div style="margin-left: 16ex; text-indent: -4ex">}</div>    <div style="margin-left: 12ex; text-indent: -4ex">}</div>    <div style="margin-left: 8ex; text-indent: -4ex">}</div>    <div>&#160;</div>    <div style="margin-left: 8ex; text-indent: -4ex">[<span style="color: #2b91af">ServiceContract</span>]</div>    <div style="margin-left: 8ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #0000ff">interface</span> <span style="color: #2b91af">ITime</span></div>    <div style="margin-left: 8ex; text-indent: -4ex">{</div>    <div style="margin-left: 12ex; text-indent: -4ex">[<span style="color: #2b91af">OperationContract</span>, <span style="color: #2b91af">WebGet</span>]</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #2b91af">DateTimeCount</span> GetTime();</div>    <div style="margin-left: 8ex; text-indent: -4ex">}</div>    <div>&#160;</div>    <div style="margin-left: 8ex; text-indent: -4ex">[<span style="color: #2b91af">ServiceBehavior</span>(InstanceContextMode = <span style="color: #2b91af">InstanceContextMode</span>.Single)]</div>    <div style="margin-left: 8ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #0000ff">class</span> <span style="color: #2b91af">Time</span> : <span style="color: #2b91af">ITime</span></div>    <div style="margin-left: 8ex; text-indent: -4ex">{</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #2b91af">DateTimeCount</span> GetTime()</div>    <div style="margin-left: 12ex; text-indent: -4ex">{</div>    <div style="margin-left: 16ex; text-indent: -4ex"><span style="color: #0000ff">return</span> <span style="color: #0000ff">new</span> <span style="color: #2b91af">DateTimeCount</span>(<span style="color: #2b91af">DateTime</span>.Now, m_count++);</div>    <div style="margin-left: 12ex; text-indent: -4ex">}</div>    <div>&#160;</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">private</span> <span style="color: #0000ff">int</span> m_count;</div>    <div style="margin-left: 8ex; text-indent: -4ex">}</div>    <div>&#160;</div>    <div style="margin-left: 8ex; text-indent: -4ex">[<span style="color: #2b91af">Serializable</span>]</div>    <div style="margin-left: 8ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #0000ff">class</span> <span style="color: #2b91af">DateTimeCount</span></div>    <div style="margin-left: 8ex; text-indent: -4ex">{</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">public</span> DateTimeCount(<span style="color: #2b91af">DateTime</span> now, <span style="color: #0000ff">int</span> count)</div>    <div style="margin-left: 12ex; text-indent: -4ex">{</div>    <div style="margin-left: 16ex; text-indent: -4ex">Now = now;</div>    <div style="margin-left: 16ex; text-indent: -4ex">Count = count;</div>    <div style="margin-left: 12ex; text-indent: -4ex">}</div>    <div>&#160;</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #2b91af">DateTime</span> Now { <span style="color: #0000ff">get</span>; <span style="color: #0000ff">set</span>; }</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #0000ff">int</span> Count { <span style="color: #0000ff">get</span>; <span style="color: #0000ff">set</span>; }</div>    <div style="margin-left: 8ex; text-indent: -4ex">}</div>    <div>}</div>    <div>&#160;</div> </div>  <p>And we open a browser to <strong>http://localhost:8080/time/GetTime</strong>:</p>  <div style="font-family: monospace">   <div><span style="color: #0000ff">&lt;</span><span style="color: #a31515">DateTimeCount</span> <span style="color: #ff0000">xmlns</span><span style="color: #0000ff">=</span>&quot;<span style="color: #0000ff">http://schemas.datacontract.org/2004/07/J832</span>&quot; <span style="color: #ff0000">xmlns:i</span><span style="color: #0000ff">=</span>&quot;<span style="color: #0000ff">http://www.w3.org/2001/XMLSchema-instance</span>&quot;<span style="color: #0000ff">&gt;</span></div>    <div style="margin-left: 6ex; text-indent: -4ex"><span style="color: #0000ff">&lt;</span><span style="color: #a31515">_x003C_Count_x003E_k__BackingField</span><span style="color: #0000ff">&gt;</span>0<span style="color: #0000ff">&lt;/</span><span style="color: #a31515">_x003C_Count_x003E_k__BackingField</span><span style="color: #0000ff">&gt;</span></div>    <div style="margin-left: 6ex; text-indent: -4ex"><span style="color: #0000ff">&lt;</span><span style="color: #a31515">_x003C_Now_x003E_k__BackingField</span><span style="color: #0000ff">&gt;</span>2008-02-04T23:28:21.987561-08:00<span style="color: #0000ff">&lt;/</span><span style="color: #a31515">_x003C_Now_x003E_k__BackingField</span><span style="color: #0000ff">&gt;</span></div>    <div><span style="color: #0000ff">&lt;/</span><span style="color: #a31515">DateTimeCount</span><span style="color: #0000ff">&gt;</span></div> </div>  <p>Isn't that *cough* *choke* pretty *gag*.</p>  <p>I suddenly had a flash of nostalgia...of longing...for <a href="http://en.wikipedia.org/wiki/Extensible_Application_Markup_Language">Xaml</a>.</p>  <p>Xaml: that wonderful language where document-object mapping is implicit, trivial, and human-understandable.</p>  <p>(I'd love to link to <strong>Our 7 Goals of Xaml</strong> introduction but the <a href="http://www.windows-now.com/blogs/rrelyea/archive/2004/11/29/7838.aspx">link is dead</a>. Help, <a href="http://rrelyea.spaces.live.com">Rob</a>?)</p>  <p>Thankfully, <a href="http://technet.microsoft.com/en-us/library/system.windows.markup.xamlwriter.aspx">XamlWriter</a> is publicly available and WCF is insanely, gratuitously, wonderfully extensible.</p>  <ul>   <li>WCF services have endpoints. </li>    <li>Endpoints have contracts. </li>    <li>Contracts have operations. </li>    <li>Operations have behaviors. </li>    <li>Behaviors have formatters. </li>    <li>Formatters can have custom messages--for instance, XamlMessage. </li> </ul>  <p>Thanks to <a href="http://maheshwar.net/Blog">Maheshwar Jayaraman</a> for <a href="http://blogs.msdn.com/mahjayar/archive/2007/03/14/wcf-extensibility-plugging-in-custom-message-processing-logic.aspx">the post</a> (and <a href="http://blogs.msdn.com/mahjayar/attachment/1884927.ashx">sample</a>) on his <a href="http://blogs.msdn.com/mahjayar/">old blog</a> that got me started.</p>  <p>The code is a bit longer, but it's mostly boiler plate:</p>  <div style="font-family: monospace">   <div><span style="color: #0000ff">using</span> System;</div>    <div><span style="color: #0000ff">using</span> System.ServiceModel;</div>    <div><span style="color: #0000ff">using</span> System.ServiceModel.Channels;</div>    <div><span style="color: #0000ff">using</span> System.ServiceModel.Description;</div>    <div><span style="color: #0000ff">using</span> System.ServiceModel.Dispatcher;</div>    <div><span style="color: #0000ff">using</span> System.ServiceModel.Web;</div>    <div><span style="color: #0000ff">using</span> System.Windows.Markup;</div>    <div><span style="color: #0000ff">using</span> System.Xml;</div>    <div>&#160;</div>    <div>[<span style="color: #0000ff">assembly</span>: <span style="color: #2b91af">XmlnsDefinition</span>(<span style="color: #a31515">&quot;http://schemas.j832.com/demo/2008&quot;</span>, <span style="color: #a31515">&quot;J832&quot;</span>)]</div>    <div>&#160;</div>    <div><span style="color: #0000ff">namespace</span> J832</div>    <div>{</div>    <div style="margin-left: 8ex; text-indent: -4ex"><span style="color: #0000ff">class</span> <span style="color: #2b91af">Program</span></div>    <div style="margin-left: 8ex; text-indent: -4ex">{</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">static</span> <span style="color: #0000ff">void</span> Main(<span style="color: #0000ff">string</span>[] args)</div>    <div style="margin-left: 12ex; text-indent: -4ex">{</div>    <div style="margin-left: 16ex; text-indent: -4ex"><span style="color: #2b91af">Time</span> time = <span style="color: #0000ff">new</span> <span style="color: #2b91af">Time</span>();</div>    <div>&#160;</div>    <div style="margin-left: 16ex; text-indent: -4ex"><span style="color: #0000ff">using</span> (<span style="color: #2b91af">WebServiceHost</span> host = <span style="color: #0000ff">new</span> <span style="color: #2b91af">WebServiceHost</span>(time, <span style="color: #0000ff">new</span> <span style="color: #2b91af">Uri</span>(<span style="color: #a31515">&quot;http://localhost:8080/&quot;</span>)))</div>    <div style="margin-left: 16ex; text-indent: -4ex">{</div>    <div style="margin-left: 20ex; text-indent: -4ex"><span style="color: #2b91af">ServiceEndpoint</span> endPoint = host.AddServiceEndpoint(<span style="color: #0000ff">typeof</span>(<span style="color: #2b91af">ITime</span>), <span style="color: #0000ff">new</span> <span style="color: #2b91af">WebHttpBinding</span>(), <span style="color: #a31515">&quot;time&quot;</span>);</div>    <div style="margin-left: 20ex; text-indent: -4ex"><span style="color: #0000ff">foreach</span> (<span style="color: #2b91af">OperationDescription</span> operationDescription <span style="color: #0000ff">in</span> endPoint.Contract.Operations)</div>    <div style="margin-left: 20ex; text-indent: -4ex">{</div>    <div style="margin-left: 24ex; text-indent: -4ex">operationDescription.Behaviors.Add(<span style="color: #0000ff">new</span> <span style="color: #2b91af">MyOperationBehavior</span>());</div>    <div style="margin-left: 20ex; text-indent: -4ex">}</div>    <div>&#160;</div>    <div style="margin-left: 20ex; text-indent: -4ex">host.Open();</div>    <div>&#160;</div>    <div style="margin-left: 20ex; text-indent: -4ex"><span style="color: #2b91af">Console</span>.WriteLine(<span style="color: #a31515">&quot;enter to close...&quot;</span>);</div>    <div style="margin-left: 20ex; text-indent: -4ex"><span style="color: #2b91af">Console</span>.ReadLine(); </div>    <div style="margin-left: 16ex; text-indent: -4ex">}</div>    <div style="margin-left: 12ex; text-indent: -4ex">}</div>    <div style="margin-left: 8ex; text-indent: -4ex">}</div>    <div>&#160;</div>    <div style="margin-left: 8ex; text-indent: -4ex">[<span style="color: #2b91af">ServiceContract</span>]</div>    <div style="margin-left: 8ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #0000ff">interface</span> <span style="color: #2b91af">ITime</span></div>    <div style="margin-left: 8ex; text-indent: -4ex">{</div>    <div style="margin-left: 12ex; text-indent: -4ex">[<span style="color: #2b91af">OperationContract</span>, <span style="color: #2b91af">WebGet</span>]</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #2b91af">DateTimeCount</span> GetTime();</div>    <div style="margin-left: 8ex; text-indent: -4ex">}</div>    <div>&#160;</div>    <div style="margin-left: 8ex; text-indent: -4ex">[<span style="color: #2b91af">ServiceBehavior</span>(InstanceContextMode = <span style="color: #2b91af">InstanceContextMode</span>.Single)]</div>    <div style="margin-left: 8ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #0000ff">class</span> <span style="color: #2b91af">Time</span> : <span style="color: #2b91af">ITime</span></div>    <div style="margin-left: 8ex; text-indent: -4ex">{</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #2b91af">DateTimeCount</span> GetTime()</div>    <div style="margin-left: 12ex; text-indent: -4ex">{</div>    <div style="margin-left: 16ex; text-indent: -4ex"><span style="color: #0000ff">return</span> <span style="color: #0000ff">new</span> <span style="color: #2b91af">DateTimeCount</span>(<span style="color: #2b91af">DateTime</span>.Now, m_count++);</div>    <div style="margin-left: 12ex; text-indent: -4ex">}</div>    <div>&#160;</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">private</span> <span style="color: #0000ff">int</span> m_count;</div>    <div style="margin-left: 8ex; text-indent: -4ex">}</div>    <div>&#160;</div>    <div style="margin-left: 8ex; text-indent: -4ex">[<span style="color: #2b91af">Serializable</span>]</div>    <div style="margin-left: 8ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #0000ff">class</span> <span style="color: #2b91af">DateTimeCount</span></div>    <div style="margin-left: 8ex; text-indent: -4ex">{</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">public</span> DateTimeCount(<span style="color: #2b91af">DateTime</span> now, <span style="color: #0000ff">int</span> count)</div>    <div style="margin-left: 12ex; text-indent: -4ex">{</div>    <div style="margin-left: 16ex; text-indent: -4ex">Now = now;</div>    <div style="margin-left: 16ex; text-indent: -4ex">Count = count;</div>    <div style="margin-left: 12ex; text-indent: -4ex">}</div>    <div>&#160;</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #2b91af">DateTime</span> Now { <span style="color: #0000ff">get</span>; <span style="color: #0000ff">set</span>; }</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #0000ff">int</span> Count { <span style="color: #0000ff">get</span>; <span style="color: #0000ff">set</span>; }</div>    <div style="margin-left: 8ex; text-indent: -4ex">}</div>    <div>&#160;</div>    <div style="margin-left: 8ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #0000ff">class</span> <span style="color: #2b91af">MyOperationBehavior</span> : <span style="color: #2b91af">IOperationBehavior</span></div>    <div style="margin-left: 8ex; text-indent: -4ex">{</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #0000ff">void</span> AddBindingParameters(<span style="color: #2b91af">OperationDescription</span> operationDescription, <span style="color: #2b91af">BindingParameterCollection</span> bindingParameters) { }</div>    <div>&#160;</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #0000ff">void</span> ApplyClientBehavior(<span style="color: #2b91af">OperationDescription</span> operationDescription, <span style="color: #2b91af">ClientOperation</span> clientOperation) { }</div>    <div>&#160;</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #0000ff">void</span> ApplyDispatchBehavior(</div>    <div style="margin-left: 16ex; text-indent: -4ex"><span style="color: #2b91af">OperationDescription</span> operationDescription,</div>    <div style="margin-left: 16ex; text-indent: -4ex"><span style="color: #2b91af">DispatchOperation</span> dispatchOperation)</div>    <div style="margin-left: 12ex; text-indent: -4ex">{</div>    <div style="margin-left: 16ex; text-indent: -4ex">dispatchOperation.Formatter = <span style="color: #0000ff">new</span> <span style="color: #2b91af">MyMessageFormatter</span>();</div>    <div style="margin-left: 12ex; text-indent: -4ex">}</div>    <div>&#160;</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #0000ff">void</span> Validate(<span style="color: #2b91af">OperationDescription</span> operationDescription) { }</div>    <div style="margin-left: 8ex; text-indent: -4ex">}</div>    <div>&#160;</div>    <div style="margin-left: 8ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #0000ff">class</span> <span style="color: #2b91af">MyMessageFormatter</span> : <span style="color: #2b91af">IDispatchMessageFormatter</span></div>    <div style="margin-left: 8ex; text-indent: -4ex">{</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #0000ff">void</span> DeserializeRequest(<span style="color: #2b91af">Message</span> message, <span style="color: #0000ff">object</span>[] parameters) { }</div>    <div>&#160;</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #2b91af">Message</span> SerializeReply(<span style="color: #2b91af">MessageVersion</span> messageVersion, <span style="color: #0000ff">object</span>[] parameters, <span style="color: #0000ff">object</span> result)</div>    <div style="margin-left: 12ex; text-indent: -4ex">{</div>    <div style="margin-left: 16ex; text-indent: -4ex"><span style="color: #0000ff">return</span> <span style="color: #0000ff">new</span> <span style="color: #2b91af">XamlMessage</span>(result);</div>    <div style="margin-left: 12ex; text-indent: -4ex">}</div>    <div style="margin-left: 8ex; text-indent: -4ex">}</div>    <div>&#160;</div>    <div style="margin-left: 8ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #0000ff">class</span> <span style="color: #2b91af">XamlMessage</span> : <span style="color: #2b91af">Message</span></div>    <div style="margin-left: 8ex; text-indent: -4ex">{</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">public</span> XamlMessage(<span style="color: #0000ff">object</span> value){ Value = value; }</div>    <div>&#160;</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #0000ff">override</span> <span style="color: #2b91af">MessageHeaders</span> Headers</div>    <div style="margin-left: 12ex; text-indent: -4ex">{</div>    <div style="margin-left: 16ex; text-indent: -4ex"><span style="color: #0000ff">get</span> { <span style="color: #0000ff">return</span> <span style="color: #0000ff">new</span> <span style="color: #2b91af">MessageHeaders</span>(<span style="color: #2b91af">MessageVersion</span>.None); }</div>    <div style="margin-left: 12ex; text-indent: -4ex">}</div>    <div>&#160;</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">protected</span> <span style="color: #0000ff">override</span> <span style="color: #0000ff">void</span> OnWriteBodyContents(<span style="color: #2b91af">XmlDictionaryWriter</span> writer)</div>    <div style="margin-left: 12ex; text-indent: -4ex">{</div>    <div style="margin-left: 16ex; text-indent: -4ex"><span style="color: #2b91af">XamlWriter</span>.Save(Value, writer);</div>    <div style="margin-left: 12ex; text-indent: -4ex">}</div>    <div>&#160;</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #0000ff">override</span> <span style="color: #2b91af">MessageProperties</span> Properties{ <span style="color: #0000ff">get</span>{ <span style="color: #0000ff">return</span> <span style="color: #0000ff">new</span> <span style="color: #2b91af">MessageProperties</span>(); } } </div>    <div>&#160;</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #0000ff">override</span> <span style="color: #2b91af">MessageVersion</span> Version{ <span style="color: #0000ff">get</span>{ <span style="color: #0000ff">return</span> <span style="color: #2b91af">MessageVersion</span>.None; }}</div>    <div>&#160;</div>    <div style="margin-left: 12ex; text-indent: -4ex"><span style="color: #0000ff">public</span> <span style="color: #0000ff">object</span> Value { <span style="color: #0000ff">get</span>; <span style="color: #0000ff">private</span> <span style="color: #0000ff">set</span>; }</div>    <div style="margin-left: 8ex; text-indent: -4ex">}</div>    <div>}</div> </div>  <p>And (drumroll) the output from <strong>http://localhost:8080/time/GetTime</strong>:</p>  <div style="font-family: monospace">   <div><span style="color: #0000ff">&lt;</span><span style="color: #a31515">DateTimeCount</span> <span style="color: #ff0000">Now</span><span style="color: #0000ff">=</span>&quot;<span style="color: #0000ff">2008-02-04T23:53:18.884273-08:00</span>&quot; <span style="color: #ff0000">Count</span><span style="color: #0000ff">=</span>&quot;<span style="color: #0000ff">14</span>&quot; <span style="color: #ff0000">xmlns</span><span style="color: #0000ff">=</span>&quot;<span style="color: #0000ff">http://schemas.j832.com/demo/2008</span>&quot;<span style="color: #0000ff">/&gt;</span></div> </div>  <p>Isn't that pretty? The XmlnsDefinition assembly attribute is the icing that gives you the pretty xmlns.</p>  <p>Do other folks love Xaml? Do you wish it was available outside PresentationFramework.dll?</p>  <p>Let me know. I'm thinking of starting a campaign.</p>  <p>Hear that, <a href="http://rrelyea.spaces.live.com/blog/">Rob</a>? :-)</p>  <br /><a href="http://www.dotnetkicks.com/kick/?url=http%3a%2f%2fwork.j832.com%2f2008%2f02%2fxaml-serialization-with-wcf.html"><img src="http://www.dotnetkicks.com/Services/Images/KickItImageGenerator.ashx?url=http%3a%2f%2fwork.j832.com%2f2008%2f02%2fxaml-serialization-with-wcf.html&bgcolor=c9c9c9&cbgcolor=eeeeee" border="0" alt="kick it on DotNetKicks.com" /></a>